import 'normalize.css';
import '../styles/globals.css';
import React, {useEffect} from "react";
import Head from "next/dist/next-server/lib/head";
import { ThemeProvider } from '@material-ui/core/styles';
import CssBaseline from '@material-ui/core/CssBaseline';
import theme from '../theme';
import 'locomotive-scroll/dist/locomotive-scroll.css';

function MyApp({ Component, pageProps }) {
  // const containerRef = useRef(null);
  // const { scroll } = useLocomotiveScroll()
  useEffect(() => {
    import('locomotive-scroll').then((locomotiveModule) => {
      // eslint-disable-next-line new-cap
      const scroll = new locomotiveModule.default({
        el: document.querySelector("[data-scroll-container]"),
        smooth: true,
        resetNativeScroll: true
      });
      
      scroll.destroy();
    
      setTimeout(() => {
        scroll.init();
      }, 100);
    });
  })

  return (
      <ThemeProvider theme={theme}>
        <Head>
          <title>Construction</title>
          <meta name="description" content="Generated by create next app" />
          <link rel="icon" href="/favicon.ico" />
        </Head>
        <CssBaseline />
        <Component {...pageProps}/>
      </ThemeProvider>
  )
}

export default MyApp;
